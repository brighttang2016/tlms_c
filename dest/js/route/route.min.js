var app=angular.module("myApp",["ngRoute"]).config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!1),$locationProvider.hashPrefix("")}]);app.run(["$rootScope","$location",function($rootScope,$location){$rootScope.$on("$routeChangeStart",function(evt,next,current){})}]),app.config(["$routeProvider",function($routeProvider){$routeProvider.when("/",{template:"首页"}).when("/#computers",{template:"电脑页面"}).when("/printers",{template:"打印机页面"}).when("/blabla",{template:"其他页面"}).when("/userManage",{templateUrl:"route.tpl.html"}).when("/userManage/:name",{controller:"UserManageController",redirectTo:function(route,path,search){}}).when("/toMain",{redirectTo:function(route,path,search){return"/"}}).otherwise({redirect:"/"})}]),app.controller("UserManageController",function($scope,$routeParams,$location){}),app.factory("greeter",function(){return{greet:function(msg){alert(msg)}}}),app.controller("MyController",function($scope,greeter){console.log(greeter),$scope.sayHello=function(){greeter.greet("Hello!")}});